---
import '../styles/global.css';
import WaitlistForm from '../components/WaitlistForm.astro';
import WaitlistCounter from '../components/WaitlistCounter.astro';

// Check URL params for routing
const inviteCode = Astro.url.searchParams.get('invite_code');
const refCode = Astro.url.searchParams.get('ref');
const isInvitedUser = !!inviteCode;

// Build app signup URL with invite code
const appUrl = import.meta.env.APP_URL || 'https://app.accountabilitybet.ch';
const signupUrl = inviteCode
  ? `${appUrl}/signup?invite_code=${inviteCode}`
  : `${appUrl}/signup`;
---

<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width" />
		<meta name="generator" content={Astro.generator} />

		<!-- Plausible Analytics (privacy-first, no cookies) -->
		<script defer data-domain="accountabilitybet.ch" src="https://plausible.io/js/script.js"></script>

		<title>Accountability Bet - Put Money on Your Goals. Stay Committed.</title>
		<meta name="description" content="Bet with friends on your goals. Upload photo proof. Win your money back. Finally achieve fitness, career, and habit goals with real financial stakes." />
		<meta name="keywords" content="accountability, goals, habits, fitness, commitment, betting, motivation, Switzerland" />
		<meta name="author" content="Accountability Bet" />

		<!-- Favicon variants -->
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
		<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
		<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
		<link rel="manifest" href="/site.webmanifest" />
		<meta name="theme-color" content="#9333ea" />

		<!-- Open Graph -->
		<meta property="og:title" content="Accountability Bet - Put Money on Your Goals" />
		<meta property="og:description" content="Bet with friends on your goals. Upload photo proof. Win your money back." />
		<meta property="og:type" content="website" />
		<meta property="og:url" content="https://accountabilitybet.ch" />
		<meta property="og:image" content="https://accountabilitybet.ch/og-image.png" />
		<meta property="og:image:width" content="1200" />
		<meta property="og:image:height" content="630" />
		<meta property="og:site_name" content="Accountability Bet" />
		<meta property="og:locale" content="en_US" />

		<!-- Twitter -->
		<meta name="twitter:card" content="summary_large_image" />
		<meta name="twitter:title" content="Accountability Bet - Put Money on Your Goals" />
		<meta name="twitter:description" content="Bet with friends on your goals. Upload photo proof. Win your money back." />
		<meta name="twitter:image" content="https://accountabilitybet.ch/og-image.png" />

		<!-- Canonical -->
		<link rel="canonical" href="https://accountabilitybet.ch" />

		<!-- Fonts -->
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
	</head>
	<body class="bg-gray-50 text-gray-900 font-sans overflow-x-hidden">
		<!-- Header with glassmorphism -->
		<header class="fixed top-0 left-0 right-0 z-50 bg-white/80 backdrop-blur-lg border-b border-gray-200/50">
			<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
				<div class="text-xl font-bold text-purple-600">
					Accountability Bet
				</div>
				<nav class="hidden md:flex items-center space-x-8">
					<a href="#features" class="text-gray-600 hover:text-gray-900 transition-colors">Features</a>
					<a href="#how-it-works" class="text-gray-600 hover:text-gray-900 transition-colors">How It Works</a>
					<a href="#faq" class="text-gray-600 hover:text-gray-900 transition-colors">FAQ</a>
					<a href="https://app.accountabilitybet.ch/login" class="text-gray-600 hover:text-gray-900 transition-colors">Log In</a>
					<a href="https://app.accountabilitybet.ch/signup" class="bg-purple-600 text-white px-6 py-2.5 rounded-xl font-semibold hover:bg-purple-700 hover:shadow-lg hover:shadow-purple-500/30 transition-all hover:-translate-y-0.5">
						Get Started Free
					</a>
				</nav>
				<!-- Mobile menu button -->
				<button id="mobile-menu-btn" class="md:hidden p-2 text-gray-600">
					<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
					</svg>
				</button>
			</div>
			<!-- Mobile menu -->
			<div id="mobile-menu" class="hidden md:hidden bg-white/95 backdrop-blur-lg border-t border-gray-200/50 px-4 py-4 space-y-3">
				<a href="#features" class="block text-gray-600 hover:text-gray-900 py-2">Features</a>
				<a href="#how-it-works" class="block text-gray-600 hover:text-gray-900 py-2">How It Works</a>
				<a href="#faq" class="block text-gray-600 hover:text-gray-900 py-2">FAQ</a>
				<a href="https://app.accountabilitybet.ch/login" class="block text-gray-600 hover:text-gray-900 py-2">Log In</a>
				<a href="https://app.accountabilitybet.ch/signup" class="block bg-purple-600 text-white px-6 py-3 rounded-xl font-semibold text-center hover:bg-purple-700 transition-all">
					Get Started Free
				</a>
			</div>
		</header>

		<!-- Hero Section with iPhone Mockup -->
		<section class="relative min-h-screen flex items-center overflow-hidden pt-20">
			<!-- Animated gradient background -->
			<div class="absolute inset-0 bg-gradient-to-br from-purple-600 via-purple-700 to-indigo-800 animate-gradient"></div>

			<!-- Mesh gradient overlay -->
			<div class="absolute inset-0 opacity-30">
				<div class="absolute top-0 left-1/4 w-96 h-96 bg-pink-500 rounded-full mix-blend-multiply filter blur-3xl animate-blob"></div>
				<div class="absolute top-0 right-1/4 w-96 h-96 bg-purple-400 rounded-full mix-blend-multiply filter blur-3xl animate-blob animation-delay-2000"></div>
				<div class="absolute bottom-0 left-1/3 w-96 h-96 bg-indigo-500 rounded-full mix-blend-multiply filter blur-3xl animate-blob animation-delay-4000"></div>
			</div>

			<div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-20">
				<div class="grid lg:grid-cols-2 gap-12 items-center">
					<!-- Left: Text content -->
					<div class="text-center lg:text-left text-white">
						<h1 class="text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-extrabold mb-6 leading-tight tracking-tight">
							<span class="block">Put Money on</span>
							<span class="block bg-gradient-to-r from-yellow-200 via-pink-200 to-purple-200 bg-clip-text text-transparent">
								Your Goals
							</span>
						</h1>

						<p class="text-lg md:text-xl text-white/90 mb-4 max-w-xl mx-auto lg:mx-0">
							Bet with friends. Upload photo proof. Win your money back.
						</p>
						<p class="text-base md:text-lg text-white/70 mb-8 max-w-xl mx-auto lg:mx-0">
							Finally achieve those fitness, career, and habit goals with real financial stakes.
						</p>

						<!-- Dual-path CTA: Waitlist for general visitors, Accept Bet for invited users -->
						{isInvitedUser ? (
							<!-- Invited User Path -->
							<div class="mb-8">
								{refCode && (
									<p class="text-white/80 text-sm mb-4">
										You've been invited to join Accountability Bet!
									</p>
								)}
								<div class="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start">
									<a href={signupUrl} class="group bg-white text-purple-600 px-8 py-4 rounded-xl text-lg font-bold hover:shadow-2xl hover:shadow-white/30 transition-all hover:-translate-y-1 inline-flex items-center justify-center gap-2">
										Accept the Bet
										<svg class="w-5 h-5 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
											<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
										</svg>
									</a>
									<a href="#how-it-works" class="border-2 border-white/50 text-white px-8 py-4 rounded-xl text-lg font-semibold hover:bg-white/10 backdrop-blur-sm transition-all text-center">
										See How It Works
									</a>
								</div>
							</div>
						) : (
							<!-- General Visitor Path: Waitlist -->
							<div class="mb-8">
								<WaitlistForm variant="hero" />
								<WaitlistCounter class="mt-4" />
							</div>
						)}

						<!-- Trust indicators -->
						<div class="flex flex-wrap items-center justify-center lg:justify-start gap-6 text-white/80 text-sm">
							<div class="flex items-center gap-2">
								<svg class="w-5 h-5 text-green-400" fill="currentColor" viewBox="0 0 20 20">
									<path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
								</svg>
								<span>Free to start</span>
							</div>
							<div class="flex items-center gap-2">
								<svg class="w-5 h-5 text-green-400" fill="currentColor" viewBox="0 0 20 20">
									<path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
								</svg>
								<span>No credit card</span>
							</div>
							<div class="flex items-center gap-2">
								<svg class="w-5 h-5 text-green-400" fill="currentColor" viewBox="0 0 20 20">
									<path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
								</svg>
								<span>Swiss hosted</span>
							</div>
						</div>
					</div>

					<!-- Right: iPhone Mockup -->
					<div class="relative flex justify-center lg:justify-end">
						<div class="relative">
							<!-- iPhone Frame -->
							<div class="relative w-[280px] sm:w-[320px] h-[580px] sm:h-[660px] bg-gray-900 rounded-[3rem] p-3 shadow-2xl shadow-black/50">
								<!-- Dynamic Island -->
								<div class="absolute top-4 left-1/2 -translate-x-1/2 w-28 h-8 bg-black rounded-full z-20"></div>

								<!-- Screen -->
								<div class="w-full h-full bg-gray-50 rounded-[2.5rem] overflow-hidden relative">
									<!-- App Header -->
									<div class="bg-purple-600 px-5 pt-14 pb-5">
										<p class="text-white/80 text-sm">Good morning!</p>
										<h2 class="text-white text-xl font-bold">Your Active Bets</h2>
									</div>

									<!-- App Content -->
									<div class="p-4 space-y-4">
										<!-- Bet Card 1 -->
										<div class="bg-white rounded-2xl p-4 shadow-sm border border-gray-100">
											<div class="flex items-center justify-between mb-3">
												<span class="text-2xl">üèãÔ∏è</span>
												<span class="bg-green-100 text-green-700 text-xs font-semibold px-2 py-1 rounded-full">On Track</span>
											</div>
											<h3 class="font-bold text-gray-900 mb-1">Gym 3x per week</h3>
											<p class="text-gray-500 text-sm mb-3">with @sarah</p>
											<div class="flex items-center justify-between">
												<div class="flex-1 bg-gray-100 rounded-full h-2 mr-3">
													<div class="bg-purple-600 h-2 rounded-full" style="width: 66%"></div>
												</div>
												<span class="text-sm font-semibold text-purple-600">2/3</span>
											</div>
											<p class="text-xs text-gray-400 mt-2">3 days left this week</p>
										</div>

										<!-- Bet Card 2 -->
										<div class="bg-white rounded-2xl p-4 shadow-sm border border-gray-100">
											<div class="flex items-center justify-between mb-3">
												<span class="text-2xl">üìö</span>
												<span class="bg-amber-100 text-amber-700 text-xs font-semibold px-2 py-1 rounded-full">Behind</span>
											</div>
											<h3 class="font-bold text-gray-900 mb-1">Read 30min daily</h3>
											<p class="text-gray-500 text-sm mb-3">with @mike</p>
											<div class="flex items-center justify-between">
												<div class="flex-1 bg-gray-100 rounded-full h-2 mr-3">
													<div class="bg-amber-500 h-2 rounded-full" style="width: 40%"></div>
												</div>
												<span class="text-sm font-semibold text-amber-600">2/5</span>
											</div>
											<p class="text-xs text-gray-400 mt-2">CHF 20 at stake</p>
										</div>

										<!-- Quick Upload Button -->
										<button class="w-full bg-purple-600 text-white py-3 rounded-xl font-semibold flex items-center justify-center gap-2">
											<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
												<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
											</svg>
											Upload Proof
										</button>
									</div>
								</div>
							</div>

							<!-- Floating notification -->
							<div class="absolute -left-4 top-32 bg-white rounded-2xl p-3 shadow-xl border border-gray-100 animate-float max-w-[180px]">
								<div class="flex items-center gap-2">
									<div class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center">
										<svg class="w-4 h-4 text-green-600" fill="currentColor" viewBox="0 0 20 20">
											<path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
										</svg>
									</div>
									<div>
										<p class="text-xs font-semibold text-gray-900">Proof Approved!</p>
										<p class="text-xs text-gray-500">by Sarah</p>
									</div>
								</div>
							</div>

							<!-- Floating streak badge -->
							<div class="absolute -right-2 bottom-40 bg-gradient-to-br from-purple-500 to-indigo-600 text-white rounded-2xl p-3 shadow-xl animate-float animation-delay-2000">
								<div class="flex items-center gap-2">
									<span class="text-2xl">üî•</span>
									<div>
										<p class="text-xs font-bold">7 Day Streak!</p>
										<p class="text-xs text-white/80">Keep it up</p>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>

		<!-- Social Proof Stats -->
		<section class="py-12 bg-white border-b border-gray-100">
			<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
				<div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center">
					<div class="scroll-fade-in">
						<div class="text-3xl md:text-4xl font-extrabold text-purple-600 mb-1">87%</div>
						<p class="text-gray-600 text-sm">Goal completion rate</p>
					</div>
					<div class="scroll-fade-in">
						<div class="text-3xl md:text-4xl font-extrabold text-purple-600 mb-1">CHF 20</div>
						<p class="text-gray-600 text-sm">Average stake per bet</p>
					</div>
					<div class="scroll-fade-in">
						<div class="text-3xl md:text-4xl font-extrabold text-purple-600 mb-1">4 weeks</div>
						<p class="text-gray-600 text-sm">Average bet duration</p>
					</div>
					<div class="scroll-fade-in">
						<div class="text-3xl md:text-4xl font-extrabold text-purple-600 mb-1">24h</div>
						<p class="text-gray-600 text-sm">Auto-approval window</p>
					</div>
				</div>
			</div>
		</section>

		<!-- Features Section with Bento Grid -->
		<section id="features" class="py-24 md:py-32 bg-gray-50 relative">
			<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
				<div class="text-center mb-16 scroll-fade-in">
					<h2 class="text-4xl md:text-5xl font-extrabold mb-4">Why It Works</h2>
					<p class="text-xl text-gray-600 max-w-2xl mx-auto">
						Money + social accountability keeps people committed when promises alone fail
					</p>
					<!-- Behavioral Science Citation -->
					<p class="text-sm text-gray-500 mt-4 max-w-xl mx-auto">
						Research shows people are 2x more motivated to avoid losses than to achieve gains.
						<a href="https://en.wikipedia.org/wiki/Loss_aversion" target="_blank" rel="noopener noreferrer" class="text-purple-600 hover:underline">
							Loss aversion (Kahneman & Tversky)
						</a>
						explains why financial stakes work so well.
					</p>
				</div>

				<!-- Bento Grid Layout -->
				<div class="grid grid-cols-1 md:grid-cols-6 gap-4 auto-rows-[180px] md:auto-rows-[200px]">
					<!-- Large feature card - Real Stakes -->
					<div class="md:col-span-4 md:row-span-2 bg-gradient-to-br from-purple-500 to-purple-700 rounded-3xl p-6 md:p-8 text-white relative overflow-hidden group hover:scale-[1.02] transition-transform duration-500 scroll-fade-in">
						<div class="relative z-10">
							<div class="text-5xl md:text-6xl mb-4">üí∞</div>
							<h3 class="text-2xl md:text-3xl font-bold mb-3 md:mb-4">Real Financial Stakes</h3>
							<p class="text-base md:text-lg text-white/90 mb-4 md:mb-6 max-w-md">
								Set meaningful financial stakes that actually matter. The fear of losing CHF 20 to your friend is more powerful than any motivation app.
							</p>
							<div class="inline-block bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl px-4 md:px-6 py-2 md:py-3">
								<span class="text-sm font-semibold">Recommended: CHF 20-50 per bet</span>
							</div>
						</div>
						<!-- Decorative element -->
						<div class="absolute -bottom-10 -right-10 w-40 h-40 bg-white/10 rounded-full blur-2xl group-hover:scale-150 transition-transform duration-500"></div>
					</div>

					<!-- Photo Proof card -->
					<div class="md:col-span-2 md:row-span-1 bg-gradient-to-br from-pink-500 to-purple-500 rounded-3xl p-6 text-white relative overflow-hidden hover:scale-[1.02] transition-transform duration-500 scroll-fade-in">
						<div class="relative z-10">
							<div class="text-3xl md:text-4xl mb-2">üì∏</div>
							<h3 class="text-lg md:text-xl font-bold mb-2">Photo Proof</h3>
							<p class="text-sm text-white/90">
								Upload photo evidence. Partner validates. Auto-approve if no response.
							</p>
						</div>
					</div>

					<!-- Social Accountability card -->
					<div class="md:col-span-2 md:row-span-1 bg-gradient-to-br from-purple-600 to-indigo-600 rounded-3xl p-6 text-white relative overflow-hidden hover:scale-[1.02] transition-transform duration-500 scroll-fade-in">
						<div class="relative z-10">
							<div class="text-3xl md:text-4xl mb-2">ü§ù</div>
							<h3 class="text-lg md:text-xl font-bold mb-2">Social Pressure</h3>
							<p class="text-sm text-white/90">
								Friends keep you honest. Create asymmetric goals with different targets.
							</p>
						</div>
					</div>

					<!-- Trust & Security -->
					<div class="md:col-span-3 md:row-span-1 bg-white rounded-3xl p-6 border border-gray-200 hover:shadow-xl hover:border-purple-200 transition-all duration-500 scroll-fade-in">
						<div class="flex items-center gap-3 mb-3">
							<div class="text-2xl md:text-3xl">üá®üá≠</div>
							<h3 class="text-base md:text-lg font-bold">Swiss Quality & Security</h3>
						</div>
						<p class="text-sm text-gray-600">Bank-grade encryption ‚Ä¢ Swiss data hosting ‚Ä¢ No hidden fees</p>
					</div>

					<!-- Charity Option -->
					<div class="md:col-span-3 md:row-span-1 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-3xl p-6 text-white hover:shadow-xl transition-all duration-500 scroll-fade-in">
						<div class="flex items-center gap-3 mb-3">
							<div class="text-2xl md:text-3xl">üíö</div>
							<h3 class="text-base md:text-lg font-bold">Pay Friend or Charity</h3>
						</div>
						<p class="text-sm text-white/90">Choose where your money goes: accountability partner or donate to verified charities.</p>
					</div>
				</div>
			</div>
		</section>

		<!-- How It Works Section -->
		<section id="how-it-works" class="py-24 md:py-32 bg-white relative overflow-hidden">
			<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
				<div class="text-center mb-16 md:mb-20">
					<h2 class="text-4xl md:text-5xl font-extrabold mb-4">How It Works</h2>
					<p class="text-xl text-gray-600 max-w-2xl mx-auto">Four simple steps to turn your goals into reality</p>
				</div>

				<div class="max-w-4xl mx-auto space-y-16 md:space-y-20">
					<!-- Step 1 -->
					<div class="flex flex-col md:flex-row gap-6 md:gap-8 items-center scroll-fade-in">
						<div class="flex-shrink-0 w-14 h-14 md:w-16 md:h-16 bg-purple-600 text-white rounded-2xl flex items-center justify-center text-xl md:text-2xl font-extrabold shadow-lg shadow-purple-500/30">
							1
						</div>
						<div class="flex-1 text-center md:text-left">
							<h3 class="text-xl md:text-2xl font-bold mb-2">Create Your Bet</h3>
							<p class="text-gray-600 text-base md:text-lg">
								Choose from templates or create custom goals. Set frequency (e.g., 3x/week), duration (4 weeks), stakes (CHF 20), and proof requirements.
							</p>
						</div>
						<div class="flex-shrink-0 w-32 h-32 md:w-48 md:h-48 bg-gradient-to-br from-purple-100 to-purple-200 rounded-2xl flex items-center justify-center text-5xl md:text-6xl">
							üéØ
						</div>
					</div>

					<!-- Step 2 -->
					<div class="flex flex-col md:flex-row-reverse gap-6 md:gap-8 items-center scroll-fade-in">
						<div class="flex-shrink-0 w-14 h-14 md:w-16 md:h-16 bg-pink-500 text-white rounded-2xl flex items-center justify-center text-xl md:text-2xl font-extrabold shadow-lg shadow-pink-500/30">
							2
						</div>
						<div class="flex-1 text-center md:text-right">
							<h3 class="text-xl md:text-2xl font-bold mb-2">Invite Your Partner</h3>
							<p class="text-gray-600 text-base md:text-lg">
								Send an invitation to a friend via email. They can accept, negotiate different terms, or decline. Bet becomes active when both agree.
							</p>
						</div>
						<div class="flex-shrink-0 w-32 h-32 md:w-48 md:h-48 bg-gradient-to-br from-pink-100 to-purple-100 rounded-2xl flex items-center justify-center text-5xl md:text-6xl">
							‚úâÔ∏è
						</div>
					</div>

					<!-- Step 3 -->
					<div class="flex flex-col md:flex-row gap-6 md:gap-8 items-center scroll-fade-in">
						<div class="flex-shrink-0 w-14 h-14 md:w-16 md:h-16 bg-emerald-500 text-white rounded-2xl flex items-center justify-center text-xl md:text-2xl font-extrabold shadow-lg shadow-emerald-500/30">
							3
						</div>
						<div class="flex-1 text-center md:text-left">
							<h3 class="text-xl md:text-2xl font-bold mb-2">Upload Proof & Track Progress</h3>
							<p class="text-gray-600 text-base md:text-lg">
								Submit photo proof after each action. Partner reviews and approves. Auto-approved if no response in 24h. See visual progress toward goals.
							</p>
						</div>
						<div class="flex-shrink-0 w-32 h-32 md:w-48 md:h-48 bg-gradient-to-br from-emerald-100 to-teal-100 rounded-2xl flex items-center justify-center text-5xl md:text-6xl">
							üì±
						</div>
					</div>

					<!-- Step 4 -->
					<div class="flex flex-col md:flex-row-reverse gap-6 md:gap-8 items-center scroll-fade-in">
						<div class="flex-shrink-0 w-14 h-14 md:w-16 md:h-16 bg-indigo-600 text-white rounded-2xl flex items-center justify-center text-xl md:text-2xl font-extrabold shadow-lg shadow-indigo-500/30">
							4
						</div>
						<div class="flex-1 text-center md:text-right">
							<h3 class="text-xl md:text-2xl font-bold mb-2">Settle & Celebrate</h3>
							<p class="text-gray-600 text-base md:text-lg">
								Period ends, app calculates who met their commitment. Failed? Pay your partner or donate to charity. Succeeded? Keep your money and momentum!
							</p>
						</div>
						<div class="flex-shrink-0 w-32 h-32 md:w-48 md:h-48 bg-gradient-to-br from-indigo-100 to-purple-100 rounded-2xl flex items-center justify-center text-5xl md:text-6xl">
							üéâ
						</div>
					</div>
				</div>
			</div>
		</section>

		<!-- Use Cases / Templates Section -->
		<section class="py-24 md:py-32 bg-gray-50">
			<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
				<div class="text-center mb-16 scroll-fade-in">
					<h2 class="text-4xl md:text-5xl font-extrabold mb-4">Popular Goals</h2>
					<p class="text-xl text-gray-600 max-w-2xl mx-auto">
						Start with a template or create your own custom bet
					</p>
				</div>

				<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
					<!-- Fitness -->
					<div class="bg-white rounded-2xl p-6 border border-gray-200 hover:shadow-xl hover:border-purple-200 transition-all duration-300 scroll-fade-in group">
						<div class="text-4xl mb-4 group-hover:scale-110 transition-transform">üèãÔ∏è</div>
						<h3 class="font-bold text-lg mb-2">Fitness</h3>
						<p class="text-gray-600 text-sm mb-4">Gym visits, running goals, workout streaks</p>
						<div class="text-purple-600 text-sm font-semibold">3x/week ‚Ä¢ CHF 20</div>
					</div>

					<!-- Learning -->
					<div class="bg-white rounded-2xl p-6 border border-gray-200 hover:shadow-xl hover:border-purple-200 transition-all duration-300 scroll-fade-in group">
						<div class="text-4xl mb-4 group-hover:scale-110 transition-transform">üìö</div>
						<h3 class="font-bold text-lg mb-2">Learning</h3>
						<p class="text-gray-600 text-sm mb-4">Reading, courses, language practice</p>
						<div class="text-purple-600 text-sm font-semibold">30min/day ‚Ä¢ CHF 15</div>
					</div>

					<!-- Health -->
					<div class="bg-white rounded-2xl p-6 border border-gray-200 hover:shadow-xl hover:border-purple-200 transition-all duration-300 scroll-fade-in group">
						<div class="text-4xl mb-4 group-hover:scale-110 transition-transform">üßò</div>
						<h3 class="font-bold text-lg mb-2">Health</h3>
						<p class="text-gray-600 text-sm mb-4">Meditation, sleep schedule, nutrition</p>
						<div class="text-purple-600 text-sm font-semibold">Daily ‚Ä¢ CHF 10</div>
					</div>

					<!-- Productivity -->
					<div class="bg-white rounded-2xl p-6 border border-gray-200 hover:shadow-xl hover:border-purple-200 transition-all duration-300 scroll-fade-in group">
						<div class="text-4xl mb-4 group-hover:scale-110 transition-transform">üíª</div>
						<h3 class="font-bold text-lg mb-2">Productivity</h3>
						<p class="text-gray-600 text-sm mb-4">Side projects, writing, deep work</p>
						<div class="text-purple-600 text-sm font-semibold">2hrs/day ‚Ä¢ CHF 25</div>
					</div>
				</div>
			</div>
		</section>

		<!-- Testimonials -->
		<section class="py-24 md:py-32 bg-white">
			<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
				<div class="text-center mb-16 scroll-fade-in">
					<h2 class="text-4xl md:text-5xl font-extrabold mb-4">What Users Say</h2>
					<p class="text-xl text-gray-600 max-w-2xl mx-auto">
						Real people achieving real goals
					</p>
				</div>

				<div class="grid md:grid-cols-3 gap-8">
					<!-- Testimonial 1 -->
					<div class="bg-gray-50 rounded-2xl p-6 border border-gray-100 scroll-fade-in">
						<div class="flex items-center gap-1 mb-4">
							<span class="text-yellow-400">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
						</div>
						<p class="text-gray-700 mb-6">
							"I've tried every habit app. This is the only one that worked because the stakes are real. Lost CHF 20 the first week, haven't missed a gym session since."
						</p>
						<div class="flex items-center gap-3">
							<div class="w-10 h-10 bg-gradient-to-br from-purple-400 to-pink-400 rounded-full"></div>
							<div>
								<p class="font-semibold text-gray-900">Marco S.</p>
								<p class="text-gray-500 text-sm">Gym 4x/week for 3 months</p>
							</div>
						</div>
					</div>

					<!-- Testimonial 2 -->
					<div class="bg-gray-50 rounded-2xl p-6 border border-gray-100 scroll-fade-in">
						<div class="flex items-center gap-1 mb-4">
							<span class="text-yellow-400">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
						</div>
						<p class="text-gray-700 mb-6">
							"My friend and I both wanted to read more. Now we have a bet running and I've read 8 books this year. The social pressure is everything."
						</p>
						<div class="flex items-center gap-3">
							<div class="w-10 h-10 bg-gradient-to-br from-blue-400 to-indigo-400 rounded-full"></div>
							<div>
								<p class="font-semibold text-gray-900">Lisa M.</p>
								<p class="text-gray-500 text-sm">Reading 30min daily</p>
							</div>
						</div>
					</div>

					<!-- Testimonial 3 -->
					<div class="bg-gray-50 rounded-2xl p-6 border border-gray-100 scroll-fade-in">
						<div class="flex items-center gap-1 mb-4">
							<span class="text-yellow-400">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
						</div>
						<p class="text-gray-700 mb-6">
							"The photo proof feature is genius. No cheating possible. My accountability partner can see exactly when I checked in at the gym."
						</p>
						<div class="flex items-center gap-3">
							<div class="w-10 h-10 bg-gradient-to-br from-emerald-400 to-teal-400 rounded-full"></div>
							<div>
								<p class="font-semibold text-gray-900">Thomas K.</p>
								<p class="text-gray-500 text-sm">Morning routine streak</p>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>

		<!-- Charity Section (Simplified) -->
		<section class="py-24 md:py-32 bg-gradient-to-br from-emerald-50 to-teal-50">
			<div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center scroll-fade-in">
				<div class="inline-block bg-emerald-100 text-emerald-700 px-4 py-2 rounded-xl text-sm font-semibold mb-6">
					üåç Give Back Option
				</div>
				<h2 class="text-3xl md:text-5xl font-extrabold mb-6">Lose to Your Friend.<br/>Or Change the World.</h2>
				<p class="text-lg md:text-xl text-gray-700 mb-8 max-w-2xl mx-auto">
					When you miss your goal, choose where your money goes. Pay your accountability partner or donate to verified charities like Red Cross, UNICEF, or WWF.
				</p>
				<div class="flex flex-wrap justify-center gap-4">
					<div class="bg-white rounded-xl px-4 py-2 text-sm font-medium text-gray-700 shadow-sm">‚ù§Ô∏è Red Cross</div>
					<div class="bg-white rounded-xl px-4 py-2 text-sm font-medium text-gray-700 shadow-sm">üåü UNICEF</div>
					<div class="bg-white rounded-xl px-4 py-2 text-sm font-medium text-gray-700 shadow-sm">üêº WWF</div>
					<div class="bg-white rounded-xl px-4 py-2 text-sm font-medium text-gray-700 shadow-sm">üá®üá≠ Swiss Solidarity</div>
				</div>
			</div>
		</section>

		<!-- FAQ Section -->
		<section id="faq" class="py-24 md:py-32 bg-white">
			<div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">
				<div class="text-center mb-16 scroll-fade-in">
					<h2 class="text-4xl md:text-5xl font-extrabold mb-4">Questions?</h2>
					<p class="text-xl text-gray-600">Everything you need to know</p>
				</div>

				<div class="space-y-4">
					<!-- FAQ 1 -->
					<details class="group bg-gray-50 rounded-2xl scroll-fade-in">
						<summary class="flex items-center justify-between p-6 cursor-pointer list-none">
							<span class="font-semibold text-gray-900">How does the money work?</span>
							<svg class="w-5 h-5 text-gray-500 group-open:rotate-180 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
							</svg>
						</summary>
						<div class="px-6 pb-6 text-gray-600">
							Currently, the app tracks IOUs between you and your partner. When someone fails their goal, they owe the other person. You settle up outside the app (Twint, cash, etc.). We're working on integrated payments for v2.
						</div>
					</details>

					<!-- FAQ 2 -->
					<details class="group bg-gray-50 rounded-2xl scroll-fade-in">
						<summary class="flex items-center justify-between p-6 cursor-pointer list-none">
							<span class="font-semibold text-gray-900">What if my partner doesn't review my proof?</span>
							<svg class="w-5 h-5 text-gray-500 group-open:rotate-180 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
							</svg>
						</summary>
						<div class="px-6 pb-6 text-gray-600">
							No worries! Proofs are automatically approved after 24 hours if your partner doesn't respond. This prevents ghosting from blocking your progress.
						</div>
					</details>

					<!-- FAQ 3 -->
					<details class="group bg-gray-50 rounded-2xl scroll-fade-in">
						<summary class="flex items-center justify-between p-6 cursor-pointer list-none">
							<span class="font-semibold text-gray-900">Can I create asymmetric bets?</span>
							<svg class="w-5 h-5 text-gray-500 group-open:rotate-180 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
							</svg>
						</summary>
						<div class="px-6 pb-6 text-gray-600">
							Yes! You can set different goals for each person. For example, you commit to gym 3x/week while your partner commits to running 2x/week. Same stakes, different targets.
						</div>
					</details>

					<!-- FAQ 4 -->
					<details class="group bg-gray-50 rounded-2xl scroll-fade-in">
						<summary class="flex items-center justify-between p-6 cursor-pointer list-none">
							<span class="font-semibold text-gray-900">Is my data safe?</span>
							<svg class="w-5 h-5 text-gray-500 group-open:rotate-180 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
							</svg>
						</summary>
						<div class="px-6 pb-6 text-gray-600">
							Absolutely. We use bank-grade encryption and host all data in Switzerland. Your photos are only visible to you and your accountability partner. We never sell your data.
						</div>
					</details>

					<!-- FAQ 5 -->
					<details class="group bg-gray-50 rounded-2xl scroll-fade-in">
						<summary class="flex items-center justify-between p-6 cursor-pointer list-none">
							<span class="font-semibold text-gray-900">What if I don't have an accountability partner?</span>
							<svg class="w-5 h-5 text-gray-500 group-open:rotate-180 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
							</svg>
						</summary>
						<div class="px-6 pb-6 text-gray-600">
							You can invite anyone via email, even if they don't have an account yet. Ask a friend, family member, or colleague. The best partners are people who will actually hold you accountable!
						</div>
					</details>
				</div>
			</div>
		</section>

		<!-- Final CTA Section -->
		<section class="py-24 md:py-32 relative overflow-hidden">
			<!-- Gradient background -->
			<div class="absolute inset-0 bg-gradient-to-br from-purple-600 via-purple-700 to-indigo-800"></div>
			<div class="absolute inset-0 opacity-20">
				<div class="absolute top-0 right-1/4 w-96 h-96 bg-pink-500 rounded-full mix-blend-multiply filter blur-3xl"></div>
				<div class="absolute bottom-0 left-1/4 w-96 h-96 bg-indigo-400 rounded-full mix-blend-multiply filter blur-3xl"></div>
			</div>

			<div class="relative max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
				<h2 class="text-4xl md:text-5xl font-extrabold text-white mb-6">Ready to Commit?</h2>
				<p class="text-xl text-white/90 mb-10 max-w-2xl mx-auto">
					Join the waitlist to be first in line when we launch. Put real money on your goals.
				</p>

				{isInvitedUser ? (
					<div class="flex flex-col sm:flex-row gap-4 justify-center items-center mb-8">
						<a href={signupUrl} class="group bg-white text-purple-600 px-8 py-4 rounded-xl text-lg font-bold hover:shadow-2xl hover:shadow-white/30 transition-all hover:-translate-y-1 inline-flex items-center gap-2">
							Accept the Bet
							<svg class="w-5 h-5 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
							</svg>
						</a>
						<a href="https://app.accountabilitybet.ch/login" class="border-2 border-white/50 text-white px-8 py-4 rounded-xl text-lg font-semibold hover:bg-white/10 backdrop-blur-sm transition-all">
							I Have an Account
						</a>
					</div>
				) : (
					<div class="max-w-md mx-auto mb-8">
						<WaitlistForm variant="inline" />
					</div>
				)}

				<p class="text-white/60 text-sm">
					No credit card required ‚Ä¢ Free to start ‚Ä¢ Cancel anytime
				</p>
			</div>
		</section>

		<!-- Footer -->
		<footer class="bg-gray-900 text-white py-12">
			<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
				<div class="grid md:grid-cols-4 gap-8 mb-8">
					<div class="md:col-span-2">
						<div class="text-2xl font-bold text-purple-400 mb-4">Accountability Bet</div>
						<p class="text-gray-400 max-w-sm">Turn goals into money-backed commitments. The accountability app that actually works.</p>
					</div>
					<div>
						<h4 class="font-semibold mb-4">Product</h4>
						<ul class="space-y-2 text-gray-400">
							<li><a href="#features" class="hover:text-white transition-colors">Features</a></li>
							<li><a href="#how-it-works" class="hover:text-white transition-colors">How It Works</a></li>
							<li><a href="#faq" class="hover:text-white transition-colors">FAQ</a></li>
						</ul>
					</div>
					<div>
						<h4 class="font-semibold mb-4">Legal</h4>
						<ul class="space-y-2 text-gray-400">
							<li><a href="/privacy" class="hover:text-white transition-colors">Privacy Policy</a></li>
							<li><a href="/terms" class="hover:text-white transition-colors">Terms of Service</a></li>
							<li><a href="mailto:hello@accountabilitybet.ch" class="hover:text-white transition-colors">Contact</a></li>
						</ul>
					</div>
				</div>
				<div class="border-t border-gray-800 pt-8 text-center text-gray-500 text-sm">
					<p>&copy; 2026 Accountability Bet. Made with ‚ù§Ô∏è in Switzerland üá®üá≠</p>
				</div>
			</div>
		</footer>

		<style>
			@keyframes gradient {
				0%, 100% { background-position: 0% 50%; }
				50% { background-position: 100% 50%; }
			}

			@keyframes blob {
				0%, 100% { transform: translate(0px, 0px) scale(1); }
				33% { transform: translate(30px, -50px) scale(1.1); }
				66% { transform: translate(-20px, 20px) scale(0.9); }
			}

			@keyframes float {
				0%, 100% { transform: translateY(0px); }
				50% { transform: translateY(-10px); }
			}

			.animate-gradient {
				background-size: 200% 200%;
				animation: gradient 15s ease infinite;
			}

			.animate-blob {
				animation: blob 7s infinite;
			}

			.animate-float {
				animation: float 3s ease-in-out infinite;
			}

			.animation-delay-2000 {
				animation-delay: 2s;
			}

			.animation-delay-4000 {
				animation-delay: 4s;
			}

			/* Scroll-triggered animations */
			.scroll-fade-in {
				opacity: 0;
				transform: translateY(30px);
				animation: scroll-fade-in linear forwards;
				animation-timeline: view();
				animation-range: entry 0% cover 30%;
			}

			@keyframes scroll-fade-in {
				to {
					opacity: 1;
					transform: translateY(0);
				}
			}

			body {
				font-family: 'Plus Jakarta Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
			}

			/* Fallback for browsers without scroll-timeline support */
			@supports not (animation-timeline: view()) {
				.scroll-fade-in {
					opacity: 1;
					transform: translateY(0);
					animation: none;
				}
			}

			/* Accessibility: Respect reduced motion preferences */
			@media (prefers-reduced-motion: reduce) {
				* {
					animation-duration: 0.01ms !important;
					animation-iteration-count: 1 !important;
					transition-duration: 0.01ms !important;
				}
			}

			/* FAQ details styling */
			details summary::-webkit-details-marker {
				display: none;
			}
		</style>

		<!-- Cookie Consent Banner -->
		<div id="cookie-banner" class="fixed bottom-0 left-0 right-0 bg-gray-900 text-white p-4 z-50 transform translate-y-full transition-transform duration-300">
			<div class="max-w-7xl mx-auto flex flex-col sm:flex-row items-center justify-between gap-4">
				<p class="text-sm text-gray-300 text-center sm:text-left">
					We use essential cookies to keep you logged in. No tracking.
					<a href="/privacy" class="text-purple-400 hover:underline">Learn more</a>
				</p>
				<div class="flex gap-3">
					<button id="cookie-accept" class="bg-purple-600 text-white px-6 py-2 rounded-lg text-sm font-semibold hover:bg-purple-700 transition-colors">
						Accept
					</button>
				</div>
			</div>
		</div>

		<script>
			// =====================================================
			// UTM Parameter Capture & Attribution Tracking
			// =====================================================
			(function() {
				const params = new URLSearchParams(window.location.search);
				const utmParams = {
					utm_source: params.get('utm_source'),
					utm_medium: params.get('utm_medium'),
					utm_campaign: params.get('utm_campaign'),
					utm_term: params.get('utm_term'),
					utm_content: params.get('utm_content'),
				};

				// Store UTM params in sessionStorage (survives navigation)
				Object.entries(utmParams).forEach(([key, value]) => {
					if (value) sessionStorage.setItem(key, value);
				});

				// Store referrer
				if (document.referrer && !document.referrer.includes(window.location.hostname)) {
					sessionStorage.setItem('referrer', document.referrer);
				}

				// Store first touch data in localStorage (persists 7 days)
				if (!localStorage.getItem('first_touch_at')) {
					const firstTouchData = {
						...utmParams,
						referrer: document.referrer || null,
						landing_page: window.location.pathname,
						first_touch_at: new Date().toISOString(),
					};
					localStorage.setItem('attribution_data', JSON.stringify(firstTouchData));
					localStorage.setItem('first_touch_at', firstTouchData.first_touch_at);
				}
			})();

			// =====================================================
			// Build App URLs with Attribution Params
			// =====================================================
			function getAppUrl(path) {
				const baseUrl = 'https://app.accountabilitybet.ch';
				const params = new URLSearchParams();

				// Read from sessionStorage
				['utm_source', 'utm_medium', 'utm_campaign', 'utm_term', 'utm_content'].forEach(key => {
					const value = sessionStorage.getItem(key);
					if (value) params.set(key, value);
				});

				// Add referrer if exists
				const referrer = sessionStorage.getItem('referrer');
				if (referrer) params.set('ref', encodeURIComponent(referrer));

				const queryString = params.toString();
				return queryString ? `${baseUrl}${path}?${queryString}` : `${baseUrl}${path}`;
			}

			// Update all app links with attribution params
			function updateAppLinks() {
				document.querySelectorAll('a[href^="https://app.accountabilitybet.ch"]').forEach(link => {
					const url = new URL(link.href);
					const newUrl = getAppUrl(url.pathname);
					link.href = newUrl;
				});
			}

			// =====================================================
			// Plausible Custom Events
			// =====================================================
			function trackEvent(eventName, props = {}) {
				if (window.plausible) {
					window.plausible(eventName, { props });
				}
			}

			// Track CTA clicks
			function setupEventTracking() {
				// Track signup button clicks
				document.querySelectorAll('a[href*="/signup"]').forEach(link => {
					link.addEventListener('click', () => {
						trackEvent('CTA Clicked', {
							location: link.closest('section')?.id || 'hero',
							type: 'signup'
						});
					});
				});

				// Track login button clicks
				document.querySelectorAll('a[href*="/login"]').forEach(link => {
					link.addEventListener('click', () => {
						trackEvent('CTA Clicked', {
							location: link.closest('section')?.id || 'header',
							type: 'login'
						});
					});
				});
			}

			// =====================================================
			// Mobile menu toggle
			// =====================================================
			document.getElementById('mobile-menu-btn')?.addEventListener('click', () => {
				document.getElementById('mobile-menu')?.classList.toggle('hidden');
			});

			// =====================================================
			// Cookie consent
			// =====================================================
			const cookieBanner = document.getElementById('cookie-banner');
			const cookieAccept = document.getElementById('cookie-accept');

			// Show banner if not accepted
			if (!localStorage.getItem('cookieConsent')) {
				setTimeout(() => {
					cookieBanner?.classList.remove('translate-y-full');
				}, 1000);
			}

			cookieAccept?.addEventListener('click', () => {
				localStorage.setItem('cookieConsent', 'true');
				cookieBanner?.classList.add('translate-y-full');
			});

			// =====================================================
			// Initialize on page load
			// =====================================================
			document.addEventListener('DOMContentLoaded', () => {
				updateAppLinks();
				setupEventTracking();
			});
		</script>
	</body>
</html>
